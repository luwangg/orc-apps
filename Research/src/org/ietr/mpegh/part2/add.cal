package org.ietr.mpegh.part2;

actor add () uint(size=8) A ==> uint(size=8) B :

	uint(size=8) x:=1;

	procedure increment(int my_var)
	begin
		x := x + my_var;
	end

	ac_1: action A:[ a ] ==> B:[ b ]
	var
		uint(size=8) b
	do
		b := a + x;
	end

	ac_2: action ==>
	do
		increment(1);
		println(x);
	end

	schedule fsm etat_1 :
		etat_1 ( ac_1 ) --> etat_2;
		etat_2 ( ac_2 ) --> etat_1;
		end

end